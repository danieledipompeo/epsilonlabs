model U driver EMF {nsuri = "http://university/1.0"};

var a: OrderedSet(University) = University.all;

1.to(5).select(i|a.select(u|u.name = "i" + i));
var b: OrderedSet(University);

var department : department = Department.all.first;
for(n in 1.to(20))
{
	a.select(a|a.departments.includes(department)).println();
}


if (true) {
	b = University.all;
}

for(i in Sequence{1..100})
{
	University.all.bar();
	foo();
	var e = a.exists(u|u.name = "York").println();
	a.select(a|a.departments.includes(department)).println();
	a.departments.modules.println();
}

foo();

b.bar();

while(true)
{
	a.bar();
}


//var b: OrderedSet(University) = new OrderedSet(University);
//var e = b.exists(u|u.name = "York");
//b.foo();
//b.bar();

operation foo ()
{
	University.all.bar();
}

operation OrderedSet(University) bar()
{
	self.exist(u|u.name = 'York').println();
}

